@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@* <ul class="navbar-nav">
@if (SignInManager.IsSignedIn(User))
{
    <li class="nav-item">
        <a  class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">
            @if(User.HasClaim(c => c.Type == "Admin"))
            {
            <text>Admin</text>
            }
            else if (User.HasClaim(c => c.Type == "Contractor"))
                {
                <text>Contractor</text>
             }
          @User.Identity?.Name</a>
    </li>

    <li class="nav-item">
        <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/", new { area = "" })" method="post" >
            <button  type="submit" class="nav-link btn btn-link text-dark">Logout</button>
        </form>
    </li>
}
else
{
    <li class="nav-item">
        <a class="nav-link text-dark" asp-area="Identity" asp-page="/Account/Login">Login</a>
    </li>
}
</ul> *@

@if (SignInManager.IsSignedIn(User))
{
    <div class="dropdown">
        <a style="color: #FCF6F5" href="#" class="d-flex align-items-center text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
            <img src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png" alt="hugenerd" width="40" height="40" style="margin-right: 5px;">
            <span style="color: #FCF6F5" class="d-none d-sm-inline mx-1">
                @User.Identity?.Name
                @if (User.HasClaim(c => c.Type == "Admin"))
                {
                    <text> (Admin)</text>
                }
                else if (User.HasClaim(c => c.Type == "Contractor"))
                {
                    <text> (Contractor)</text>
                }
            </span>
        </a>
        <ul style="margin-top: 17px;" class="dropdown-menu text-small shadow">
            <li style="width: 100%; text-align: center;"><a class="dropdown-item" asp-area="Identity" asp-page="/Account/Manage/Index" title="Manage">Profile</a></li>
            <li style="width: 100%;"><hr class="dropdown-divider"></li>
            <li style="width: 100%;">
                <form class="form-inline" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/", new { area = "" })" method="post">
                    <button style="color: #faf9f6; width:100%;" class="btn btn-danger btn-sm nav-link btn-link" type="submit">Sign out</button>
                </form>
            </li>
        </ul>
    </div>
}
else
{
    <ul class="nav nav list-inline">
        <li class="nav-item">
            <a style="background-color: #FEE715; color: #101820;" class="btn btn-sm nav-link m-1" role="button" asp-area="Identity" asp-page="/Account/Login"><b>Login&nbsp;<i class="bi bi-box-arrow-in-right"></i></b></a>
        </li>
    </ul>
}